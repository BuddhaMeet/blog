<!DOCTYPE html>
<!--[if IE]>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec" xml:lang="en" lang="en" dir="ltr" class="no-js en ie">
<![endif]-->
<!--[if !IE]> -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec" xml:lang="en" lang="en" dir="ltr" class="no-js en">
<!-- <![endif]-->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script id="LR1" type="text/javascript" async="" src="static/js/client.js"></script>
<script type="text/javascript" src="static/js/auth016.js"></script>
<script type="text/javascript" src="static/js/widgets.js"></script>
  <!--分享按鈕圖標位置-->  
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
 <!--end分享按鈕圖標位置-->   
<link rel="stylesheet" type="text/css" href="static/js/widget118.css" media="all">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>禪修程序與連結Mindfulness meditation flow chart !</title>
<meta name="meditation program" content="Mindfulness ,This is an indicator of physical and mental health.生活中透過和諧的身心及禪修的練習，回歸如實的心靈故鄉">
  <!--[if lt IE 9]><script type="text/javascript" src="static/js/shiv/html5.js"></script><![endif]-->
<script type="text/javascript" async="" src="static/js/ga.js"></script>
<script id="facebook-jssdk" src="static/js/all.js"></script>
<script type="text/javascript">(function(H){H.className=H.className.replace(/\bno-js\b/,'js');})(document.documentElement);</script>
  
<script type="text/javascript" src="static/js/vkt2fib.js"></script>
<style type="text/css">.tk-brandon-grotesque{font-family:"brandon-grotesque",sans-serif;}.tk-museo-slab{font-family:"museo-slab",serif;}</style>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  
<link rel="shortcut icon" type="image/x-icon" href="static/img/favicon.ico">
<link rel="apple-touch-icon" href="static/img/apple-touch-icon.png">
<link rel="stylesheet" type="text/css" href="site.css" media="screen">
<link rel="stylesheet" type="text/css" href="jquery-ui-1.9.0.custom.min.css" media="screen">
<script type="text/javascript" src="static/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="static/js/jquery-ui-1.10.3.custom.min.js"></script>
<script type="text/javascript" src="static/js/jquery.imagesloaded.min.js"></script>
<script type="text/javascript" src="static/js/jquery.scrollto.js"></script>
<script type="text/javascript" src="static/js/jquery.rad.addons.js"></script>
<script type="text/javascript" src="static/js/jquery.rad.mousedownoutside.js"></script>
<script type="text/javascript" src="static/js/jquery.rad.ui.modal.js"></script>
<script type="text/javascript" src="static/js/jquery.rad.ui.pager.js"></script>
<script type="text/javascript" src="static/js/jquery.rad.ui.tabbar.js"></script>
  
  <meta property="fb:app_id" content="732225451">
<meta property="og:title" content="禪修程序與連結Mindfulness meditation flow chart">
<meta property="og:url" content="http://zen.nctu.me/">
<meta property="og:image" content="http://zen.nctu.me/static/img/bms-logo.png">
<meta property="og:description" content="Mindfulness ,This is an indicator of physical and mental health.">
 <!--Media Player style -->    
    <link rel="stylesheet"
    href="sounds/progres-bar.css">
   <!--end Media Player style -->   
    
  <link rel="stylesheet" href="css/style.css">      
    <!--Media Player style  -->
    <style> 
    .container { margin:150px auto; max-width:720px ;margin-top:200px;}
    .mediPlayer { float:left; margin:20px;vertical-align:text-top;}

    </style>  
    <!--end Media Player style --> 
    <!-- SVG可視圖形 --> 
     <script
    type="text/javascript"
    src="/js/lib/dummy.js"
    
  ></script>

    <link rel="stylesheet" type="text/css" href="demo.css">

  <style type="text/css">
    svg {
  border: 1px solid #888;
}
242 + (300 - 242)
242 + 300
#info {
  box-sizing: border-box;
  border: 1px solid #DEDEDE;
  padding: 10px;
  width: 600px;
}

#info p {
  margin: 0;
  padding: 1px;
}


/* Other CSS Style reference from Pure CSS */

.manipulate input {
  width: 100px;
  padding: .5em .6em;
  display: inline-block;
  border: 1px solid #ccc;
  box-shadow: inset 0 1px 3px #ddd;
  border-radius: 4px;
  vertical-align: middle;
  box-sizing: border-box;
}

button {
  font-family: "微軟正黑體";
  font-size: 100%;
  padding: .5em .6em;
  color: #444;
  color: rgba(0, 0, 0, .8);
  border: 1px solid #999;
  border: transparent;
  background-color: #E6E6E6;
  text-decoration: none;
  border-radius: 2px;
}
button:hover{
  background-image: linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1));
}

  </style>
  <!-- TODO: Missing CoffeeScript 2 -->

  <script type="text/javascript">


    window.onload=function(){
      
//	取得當前的 viewBox 資訊
function showViewBox() {
  const currentViewBox = document.getElementById('currentViewBox')
  let viewBox = svg.getAttribute('viewBox').split(' ').map( n => parseFloat(n))
  currentViewBox.textContent = `viewBox：(${viewBox[0].toFixed(0)}, ${viewBox[1].toFixed(0)}, ${viewBox[2].toFixed(0)}, ${viewBox[3].toFixed(0)})`
}

//	讓使用者可以設定 viewBox
function setViewBox() {
  //	取得使用者輸入的 viewBox 值
  const xMin = document.querySelector('[name="viewBox-x-min"]')
  const yMin = document.querySelector('[name="viewBox-y-min"]')
  const width = document.querySelector('[name="viewBox-width"]')
  const height = document.querySelector('[name="viewBox-height"]')
  let viewBox = `${xMin.value} ${yMin.value} ${width.value} ${height.value}`

  //	設定 SVG viewBox 屬性值
  svg.setAttribute('viewBox', viewBox)

  //	顯示最新的 viewBox 資訊
  showViewBox()
}
/* 
 *	開始：回報當前滑鼠座標資訊
 */
function reportCurrentPoint(e) {
  //	選取 HTML 各元素
  const info = document.getElementById('info')
  const offset = document.getElementById('offset')
  const client = document.getElementById('client')
  const showSvg = document.getElementById('showSvg')

  //	取得 viewport 座標系統中的 offset 和 client 座標值，並顯示於視窗上
  offset.textContent = `offset (${e.offsetX}, ${e.offsetY})`
  client.textContent = `client (${e.clientX}, ${e.clientY})`

  //	建立 SVG 座標點（0, 0）
  const clientPoint = svg.createSVGPoint()
    //	取得 CTM
  const CTM = svg.getScreenCTM()
    //  將 SVG 座標點的 x, y 設成 client(x, y)
  clientPoint.x = e.clientX
  clientPoint.y = e.clientY
    //	將 client 的座標點轉成 SVG 座標點
  SVGPoint = clientPoint.matrixTransform(CTM.inverse())
    //  將資訊顯示於視窗上
  showSvg.textContent = `svg (${SVGPoint.x.toFixed(0)}, ${SVGPoint.y.toFixed(0)})`
} //	結束：回報當前滑鼠座標資訊

/*	
開始：滑鼠拖拉的效果
*/
let moving
//	滑鼠點下，開始拖拉
function mouseDown(e){
	moving = true
}
//	拖拉的移動過程
function drag(e){
	if(moving === true){
    
     //	1. 取得一開始的 viewBox 值，原本是字串，拆成陣列，方便之後運算
    let startViewBox = svg.getAttribute('viewBox').split(' ').map( n => parseFloat(n))

    //	2. 取得滑鼠當前 viewport 中 client 座標值
    let startClient = {
      x: e.clientX,
      y: e.clientY
    }

    //	3. 計算對應回去的 SVG 座標值
    let newSVGPoint = svg.createSVGPoint()
    let CTM = svg.getScreenCTM()
    newSVGPoint.x = startClient.x
    newSVGPoint.y = startClient.y
    let startSVGPoint = newSVGPoint.matrixTransform(CTM.inverse())
    
    //	4. 計算拖曳後滑鼠所在的 viewport client 座標值
    let moveToClient = {
    	x: e.clientX + e.movementX,	//	movement 可以取得滑鼠位移量
      y: e.clientY + e.movementY
    }
    
    //	5. 計算對應回去的 SVG 座標值
    newSVGPoint = svg.createSVGPoint()
    CTM = svg.getScreenCTM()
    newSVGPoint.x = moveToClient.x
    newSVGPoint.y = moveToClient.y
    let moveToSVGPoint = newSVGPoint.matrixTransform(CTM.inverse())
    
    //	6. 計算位移量
    let delta = {
    	dx: startSVGPoint.x - moveToSVGPoint.x,
      dy: startSVGPoint.y - moveToSVGPoint.y
    }
    
    //	7. 設定新的 viewBox 值
    let moveToViewBox = `${startViewBox[0] + delta.dx} ${startViewBox[1] + delta.dy} ${startViewBox[2]} ${startViewBox[3]}` 
    svg.setAttribute('viewBox', moveToViewBox)
    console.log(moveToViewBox)
  }
}
//	滑鼠點擊結束（拖曳結束）
function mouseUp(){
	moving = false
  showViewBox()
}	//	結束：滑鼠拖拉的效果


/*	
開始：滑鼠縮放的效果
*/
function zoom(e){
		//	1.取得一開始的 viewBox。
  	let startViewBox = svg.getAttribute('viewBox').split(' ').map( n => parseFloat(n))
		
    //	2.取得滑鼠執行縮放位置的 viewPort Client 座標，並利用 CTM 對應取得 SVG 座標。
    
    //	2.1 取得滑鼠執行縮放的位置
    let startClient = {
      x: e.clientX,
      y: e.clientY
    }

    //	2.2 轉換成 SVG 座標系統中的 SVG 座標點
    let newSVGPoint = svg.createSVGPoint()
    let CTM = svg.getScreenCTM()
    newSVGPoint.x = startClient.x
    newSVGPoint.y = startClient.y
    let startSVGPoint = newSVGPoint.matrixTransform(CTM.inverse())
    
    
		//	3.進行縮放，如果要讓原本的尺寸縮放兩倍的話。
    //	3.1 設定縮放倍率
    let r 
    if (e.deltaY > 0) {
      r = 0.9
    } else if (e.deltaY < 0) {
      r = 1.1
    } else {
      r = 1
    }
    //	3.2 進行縮放
    svg.setAttribute('viewBox', `${startViewBox[0]} ${startViewBox[1]} ${startViewBox[2] * r} ${startViewBox[3] * r}`)
    
    //	4.將一開始滑鼠的執行縮放位置的 viewPort Client 座標利用新的 CTM ，轉換出對應的 SVG 座標。
    CTM = svg.getScreenCTM()
    let moveToSVGPoint = newSVGPoint.matrixTransform(CTM.inverse())
    
    //	5.取得在縮放過程中該圓點的位移量 `(svgX0 - svgX1)`。
    let delta = {
    	dx: startSVGPoint.x - moveToSVGPoint.x,
      dy: startSVGPoint.y - moveToSVGPoint.y
    }
    
    //	6.設定最終的 viewBox2 
  	let middleViewBox = svg.getAttribute('viewBox').split(' ').map( n => parseFloat(n))
    let moveBackViewBox = `${middleViewBox[0] + delta.dx} ${middleViewBox[1] + delta.dy} ${middleViewBox[2]} ${middleViewBox[3]}` 
    svg.setAttribute('viewBox', moveBackViewBox)
    
    //	更新 viewBox 資訊
    showViewBox()
}	//	結束：滑鼠縮放的效果

const svg = document.getElementById('svg')
const setViewBoxBtn = document.getElementById('setViewBoxBtn')
setViewBoxBtn.addEventListener('click', setViewBox)
showViewBox()
//	回報滑鼠座標事件
svg.addEventListener('mousemove', reportCurrentPoint, false)
//	拖曳的事件
svg.addEventListener('mousedown', mouseDown, false)
svg.addEventListener('mousemove', drag, false)
svg.addEventListener('mouseup', mouseUp, false)
//	縮放的事件
svg.addEventListener('wheel', zoom, false) 
 }

</script>
 <!-- end SVG可視圖形 -->
  </head>

<body id="holiday-detail" class="catalogue">
<div id="page">
   <div id="main-container">
     <header id="siteheader">
        <div class="wrapper">
           <a id="bms-logo" href="http://zen.nctu.me/"><img src="img/bms-logo-sans.png" alt="佛教禪修身心靈和諧網站" width="182" height="60"></a><br/>
                 <nav class="mainnav">
                  <a class="mn-offers" href="index.html">簡介</a>   
                  <a class="mn-trait" href="Relief.html">解除煩惱.</a>
                  <a class="mn-offers" href="Meditat.html">禪修指導.</a>
                  <a class="mn-trait" href="Activity.html">參加禪修活動.</a>
                  <a class="mn-offers" href="Read.html">閱讀佛教書籍.</a>
                  <a class="mn-offers" href="Record.html">記錄自我成長.</a>
                  <a class="mn-trait" href="Help.html">護持道場.</a> 
                  <a class="mn-trait" href="Contact.html">聯絡資訊</a>  
                  <a class="mn-blog" href="https://ddmgwens.blogspot.tw/">部落格</a>
                 </nav>
         </div>
       </header>

        
 <div>   
 <!-- SVG可視圖形大小 -->    
  <svg id="svg" width="1200" height="600" viewBox="0 0 600 600">
 <!-- SVG圖形背景大小及顏色 -->    
  <rect x="0" y="0" fill="none" stroke="#eb7b2d" stroke-width="2" width="600" height="600" />
  
 <!--svg箭頭標籤 -->      
<defs>
  
   
    
   <marker id="Arr" markerWidth="8" markerHeight="8" refx="2" refy="5" orient="auto"><path d="M2,2 L2,8 L8,5 L2,2" style="fill: #ffc0cb;" />  
   </marker>
   <marker id="Arb" markerWidth="8" markerHeight="8" refx="2" refy="5" orient="auto"><path d="M2,2 L2,8 L8,5 L2,2" style="fill: #00bfff;" />  
   </marker>  
 </defs>   
   
<!-- 各個方塊連結與文字位置 --> 
    <text x="501" y="128"  style="font-size:18px;" >開始</text>
    <a href="0Medit-1.html"><rect x="488" y="100" width="62" height="43"  rx="15" ry="15" fill="white" opacity=".3" stroke="#0088ff" stroke-width="3" id="test" /></a>     
    
    
      
    <text x="392" y="126"  style="font-size:14px;" >1隨觀</text>
    <text x="342" y="116"  style="font-size:14px;" >Yes</text>
    <text x="415" y="166"  style="font-size:14px;" >No</text>
    <a href="1Medit-1.html"><rect x="380" y="100" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>            
          
    <text x="392" y="256"  style="font-size:14px;" >3禪法</text>
    <a href="30Medit-1.html"><rect x="380" y="230" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>      
          
    <text x="382" y="414"  style="font-size:14px;" >32其他</text>
    <a href="31Medit-1.html"><rect x="380" y="388" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>
      
    <text x="382" y="376"  style="font-size:14px;" >31默照禪</text>
    <a href="31Medit-1.html"><rect x="380" y="350" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>
      
      <text x="382" y="338"  style="font-size:14px;" >30呼吸法</text>
    <a href="30Medit-1.html"><rect x="380" y="312" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>
      
    <text x="392" y="516"  style="font-size:14px;" >7正見</text>
    <a href="7Medit-1.html"><rect x="380" y="490" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a> 
      
    <text x="414" y="583"  style="font-size:14px;" >71出世間八正道－涅槃道</text>
    <a href="Read.html"><rect x="410" y="557" width="162" height="43"  rx="7" ry="7" fill="royalblue" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a> 
      
    <text x="238" y="583"  style="font-size:14px;" >72世間八正道－菩薩道</text>
    <a href="Read.html"><rect x="236" y="557" width="176" height="43"  rx="7" ry="7" fill="maroon" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>  
      
    <text x="229" y="126"  style="font-size:14px;" >2如實正念</text>
    <text x="195" y="116"  style="font-size:14px;" >No</text>
    <text x="265" y="166"  style="font-size:14px;" >Yes</text>  
    <a href="2Medit-1.html"><rect x="230" y="100" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" id="test" /></a>            
          
    <text x="234" y="256"  style="font-size:14px;" >4四念處</text>
    <a href="4Medit-1.html"><rect x="230" y="230" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>      
          
    <text x="234" y="386"  style="font-size:14px;" >5七覺支</text>
    <a href="5Medit-1.html"><rect x="230" y="360" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>
        
   <text x="234" y="516"  style="font-size:14px;" >6四聖諦</text>
    <a href="31Medit-24.html"><rect x="230" y="490" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>
    
     <text x="79" y="126"  style="font-size:14px;" >8五蓋對治</text>
      <text x="108" y="86"  style="font-size:14px;" >No</text>
    <text x="118" y="166"  style="font-size:14px;" >Yes</text> 
    <a href="8Medit-1.html"><rect x="80" y="100" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>            
          
    <text x="84" y="256"  style="font-size:14px;" >9四正勤</text>
    <a href="9Medit-1.html"><rect x="80" y="230" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>      
          
    <text x="83" y="386"  style="font-size:14px;" >10六入觸</text>
    <a href="31Medit-12.html"><rect x="80" y="360" width="62" height="43"  rx="7" ry="7" fill="orange" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>
    
      <text x="60" y="28"  style="font-size:14px;" >81世間煩惱</text>
    <a href="81Medit.html"><rect x="56" y="2" width="82" height="43"  rx="7" ry="7" fill="red" opacity=".3" stroke="#006600" stroke-width="1" 
        id="test" /></a>
      
     
    <!-- 8-81指示線 --> 
    <polyline x="20" y="50" points="110,100 100,57" fill="none" stroke="pink" stroke-width="2" marker-end="url(#Arr)" ></polyline> 
      <!-- 1-3指示線 --> 
      <polyline x="20" y="50" points="412,143 412,218" fill="none" stroke="pink" stroke-width="2" marker-end="url(#Arr)" ></polyline>  
      <!-- 2-8指示線 --> 
     <polyline x="20" y="50" points="230,120 155,120" fill="none" stroke="pink" stroke-width="2" marker-end="url(#Arr)" ></polyline> 
      
     <!-- 開始-1指示線 -->  
   <polyline x="20" y="50" points="487,120 454,120" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>  
     <!-- 1-2指示線 -->  
   <polyline x="20" y="50" points="380,120 304,120" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>
     <!-- 2-4指示線 -->  
    <polyline x="20" y="50" points="262,143 262,218" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>
      <!-- 8-9指示線 --> 
     <polyline x="20" y="50" points="115,143 115,218" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>   
      <!-- 7-71指示線 --> 
    <polyline x="20" y="50" points="411,533 411,560" fill="none" stroke="deepskyblue" stroke-width="2"></polyline>      <!-- 7-1指示線 -->   
    <path d="M442 512 H500 Q520 512, 520 480 V155" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></path> 
     <!-- 30-3指示線 -->   
     <polyline x="20" y="50" points="412,312 412,285" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>  
    
      <!-- 3-4指示線 -->  
   <polyline x="20" y="50" points="380,250 304,250" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline> 
      
   <!-- 6-7指示線 -->  
   <polyline x="20" y="50" points="292,512 368,512" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>
    <!-- 10-5指示線 -->  
   <polyline x="20" y="50" points="142,380 218,380" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>  
      
    <!-- 4-5指示線 -->  
    <polyline x="20" y="50" points="262,273 262,348" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>
      <!-- 9-10指示線 --> 
     <polyline x="20" y="50" points="115,273 115,348" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>    <!-- 5-6指示線 -->  
    <polyline x="20" y="50" points="262,403 262,478" fill="none" stroke="deepskyblue" stroke-width="2" marker-end="url(#Arb)" ></polyline>   
     <text x="210" y="50"  style="font-size:50px" fill="lightslategray" >禪修行程</text>    
    </svg>
    </div>
   <div calls=mainnav> <form>
       <p>使用說明：當法友們準備好要禪修時，請從開始方向，<br/>並依個人實際狀況選擇路徑。假如合乎條件可選Yes,不符合即選No路徑。<br/>原則上每次語音開示可作為一日的練習，因此它不是讓您急躁想獲得什麼知識？而是很有耐心的練習。<br/>所以每個單元練習後您必須回到禪修行程的選單或是重複練習。<br/>感謝您的使用！</p></form> </div>

<!-- 設定 viewBox 用 -->
 <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent){
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "c5ymmjva"
      }], "*")
    }
  </script>
  <!-- end 設定 viewBox 用 -->     
<script type="text/javascript">
  jQuery(document).ready(function($) {
    $('.comlove')
      .on('submit', function(e) {
        e.preventDefault();
        
        var $node = $(this).closest('.comlove'),
            $form = $node,
            loveCount = parseInt($node.data('love-count'), 10) + 1;
        
        $node
          .data('love-count', loveCount)
          .find('.love-count')
            .text(loveCount)
          .end()
          .find('.loves .love-icon')
            .removeClass('no-love')
          .end()
          .find('.love-button .love-icon')
            .addClass('has-love')
          .end()
          .find('.love-button')
            .prop('disabled', true)
          .end();
          
          $.post($form.attr('action'), $form.serialize());
      });
  });
</script>

<script type="text/javascript">
  jQuery(document).ready(function($) {
    $('#more-like-this')
      .on('click', '.quick-info-label', function(e) {
        e.preventDefault();
      })
      .on('mouseenter', '.quick-info-label', function(e) {
        $(this).closest('.holiday').addClass('expanded');
      })
      .on('mouseleave', '.holiday', function(e) {
        $(this).removeClass('expanded');
      });
  });
</script>

<script type="text/javascript">
  jQuery(document).ready(function($) {
    $('#holiday-info')
      .on('mouseenter', '.info-icon', function(e) {
        $('#best-price-popover').addClass('open');
      })
      .on('mouseleave', '.info-icon', function(e) {
        $('#best-price-popover').removeClass('open');
      });
  });
</script>

<script type="text/javascript">
  jQuery(document).ready(function($) {
    var width = 650,
        height = 430;
    
    $('.popup').on('click', 'a', function(e) {
      e.preventDefault();
      window.open(
        $(this).attr('href'),
        '_blank',
        'width=' + width + ', ' +
        'height=' + height + ', ' +
        'scrollbars=yes');
    });
  });
</script>

<script type="text/javascript">
  jQuery(document).ready(function($) {
    var $currentImageContainer = $('.gallery .current-image');
    $('.gallery').imagesLoaded(function() {
      $('.gallery')
        .removeClass('loading')
        .pager({
          cycle: true,
          items: '.images li'
        })
        .pagernav({
          node: '.navigation'
        })
        .on('pagerchange', function(e, ui) {
          $currentImageContainer.html(ui.page + 1);
          ui.previousPageItems.removeClass('current');
          ui.pageItems.addClass('current');
          // ui.previousPageItems.stop(true, true).fadeOut();
          // ui.pageItems.stop(true, true).fadeIn();
        })
        .find('.images li:first-child').addClass('current');
        // .find('.images li').not(':first-child').hide();
    });
  });
</script>

<script type="text/javascript">
  jQuery(document).ready(function($) {
    $('.tabbar').tabbar();
  });
</script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  jQuery(document).ready(function($) {
    
    var $mainModal = $('#main-modal').modal();
    $('.more-info-button').on('click', 'a', function(e) {
      e.preventDefault();
      $mainModal.modal('load', $(this).attr('href'), 'ajax');
    });
    
    var _xhr = null;
    
    $mainModal
      .on('submit', 'form', function(e) {
        if (_xhr) return;
        
        e.preventDefault();
        
        var $self = $(this),
            href = $(this).addClass('loading').attr('action');
        
        _xhr = $.ajax({
            url: href,
            type: 'POST',
            dataType: 'html',
            cache: false,
            data: $(this).serialize()
          })
          .done(function(data) {
            $mainModal.find('.modal-content').html(data);
            _xhr = null;
            if ($mainModal.find('.modal-content').find('.thank-you').length > 0) {
              _gaq.push(['_trackPageview', '/request-holiday-information/161/thanks/']);
            }
          })
          .fail(function() {
            _xhr = null;
          });
          
        $(this).find('input, textarea, button').attr('disabled', 'disabled');
      })
      .on('click', '.close-button', function(e) {
        e.preventDefault();
        $mainModal.modal('close');
      });
  });
</script>

               
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=165546130235965";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script type="text/javascript">
jQuery(document).ready(function($) {
  $('#list-wrapper')
    .on('click', '.quick-info-label', function(e) {
      e.preventDefault();
    })
    .on('mouseenter', '.quick-info-label', function(e) {
      $(this).closest('.holiday').addClass('expanded');
    })
    .on('mouseleave', '.holiday', function(e) {
      $(this).removeClass('expanded');
    });
});
</s<script type="text/javascript">
jQuery(document).ready(function($) {
  var $backtop = $('#backtop').on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    $.scrollTo(0, 600, {easing: 'easeOutCubic'});
  }).hide();
  
  if ($backtop.length == 0) return;
  
  var initialBottom = parseInt($backtop.css('bottom').replace(/px/g, ''), 10),
      startLimit, endLimit;
  
  function hasMore() {
    return !!$('#list-wrapper .load-more').length;
  }
  
  function calculateLimits() {
    var $node = $('#list-wrapper');
    startLimit = $node.offset().top;
    endLimit = $node.offset().top + $node.outerHeight();
  }
  
  function windowDidScroll() {
    var pos = $(window).scrollTop();
    if (pos > startLimit && pos < endLimit)
      $backtop.fadeIn();
    else
      $backtop.fadeOut();
    
    var max = endLimit - initialBottom - $(window).height() - (hasMore() ? 30 : 70),
        bottom = initialBottom;
    if (pos > max)
      bottom += pos - max;
    setTimeout(function() {
      $backtop.css('bottom', bottom);
    });
  }
  
  calculateLimits();
  
  $(window).on('scroll', windowDidScroll);
  
  function imagesDidLoad(imgLoad) {
    for (var i = 0, len = imgLoad.images.length; i < len; i++)
      $(imgLoad.images[i].img).closest('.holiday.loading').removeClass('loading');
    calculateLimits();
    windowDidScroll();
  }
  
  $('#list-wrapper').imagesLoaded(function(instance) {
    imagesDidLoad(instance);
  });
  
  var _xhr = null;
  
  $('#list-wrapper')
    .on('click', '.load-more a', function(e) {
      e.preventDefault();
      
      if (_xhr) return;
      
      var $trigger = $(this).closest('.load-more'),
          href = $(this).addClass('loading').attr('href');
      
      _xhr = $.ajax({
          url: href,
          type: 'GET',
          dataType: 'html',
          cache: false
        })
        .done(function(data) {
          $('#list-wrapper').append(data).imagesLoaded(function(instance) {
            $trigger.remove();
            imagesDidLoad(instance);
          });
          _xhr = null;
        })
        .fail(function() {
          _xhr = null;
        });
    });
});  
</script>

<script type="text/javascript">
jQuery(document).ready(function($) {
  var _menu_tid = null,
      _menu_delay = 250;
  $('.dropdown')
    .on('mouseenter', function() {
      $('.dropdown').not(this).removeClass('hover');
      clearTimeout(_menu_tid);
      var self = this;
      _menu_tid = setTimeout(function() {
        $(self).addClass('hover');
      }, _menu_delay);
    })
    .on('mouseleave', function() {
      $('.dropdown').not(this).removeClass('hover');
      clearTimeout(_menu_tid);
      var self = this;
      _menu_tid = setTimeout(function() {
        $(self).removeClass('hover');
      }, _menu_delay / 2);
    });
});
</script>

    
 <!-- 加入 Media Player script / -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="static/js/player.js"></script>
    <script>
    $(document).ready(function () {
        $('.mediPlayer').mediaPlayer();
    });
    </script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  <!-- end Media Player script / -->    
 
 <!-- 分享按鈕 -->    
   <script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>  
   <!-- 分享按鈕 --> 
<script>
!function(){var a="http://"+location.hostname+location.pathname,b=document.title,c=function(a,b){var e,c=document.querySelectorAll(a),d=c.length;for(e=0;d>e;e++)c[e].href=b};c(".rs_fb","http://www.facebook.com/sharer.php?u="+a),c(".rs_gplus","https://telegram.me/share/url="+a),c(".rs_line","http://line.naver.jp/R/msg/text/?"+b+" "+a),c(".rs_plurk","http://www.plurk.com/?qualifier=shares&status="+b+" "+a),c(".rs_weibo","http://service.weibo.com/share/share.php?title="+b+" "+a+"&url="+a),c(".rs_twitter","http://twitter.com/share?url="+a+"&text="+b),c(".rs_tumblr","http://www.tumblr.com/share/link?name="+b+" "+a+"&url="+a),c(".rs_pinterest","http://pinterest.com/pin/create/button/?url="+a+"&description="+b+" "+a),c(".rs_email","mailto:?subject="+b+"&body="+b+" "+a)}();
</script>    
<!-- end 分享按鈕 -->
 <!-- 允許點擊手機時自動播放。--> 
<script>
 var audio = document.getElementById('audio'); 
window.onload=function(){ 
audio.play(); 
}            
    
 $('html').one('touchstart',function(){ 
audio.play(); 
}); 
 </script>      
<!-- end允許點擊手機時自動播放。-->        
 </div>
 <p id="ssm">©2014 釋果聞，<a href="http://zen.nctu.me/disclaimer1.html">保留所有權利。</a> <a href="http://zen.nctu.me/disclaimer2.html">免責聲明</a></p>   
</div>  
    
</body>
</html>